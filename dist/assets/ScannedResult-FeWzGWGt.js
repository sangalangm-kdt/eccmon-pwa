import{u as C,j as e,S as Z,k as de,l as ue,c as Y,V,r as m,G as ee,W as me,a as xe,b as se,I as ge,X as he,P as fe,Y as pe,Z as ne,$ as re,m as be,a0 as W}from"./index-DRAgKpwA.js";import{t as je,c as te}from"./selectUtils-twPIpm5x.js";import{u as ye}from"./location-DNuLIXpD.js";import{L as Ne}from"./Loader-BW1vD1Hr.js";import{D as ve,u as we}from"./react-datepicker-CsaurOgN.js";import{q as Se}from"./qrscanner-C4F9vZbb.js";import"./_version-BjL_A-pP.js";const ke=({options:n=[],selectedStatus:i,setSelectedStatus:u,disabled:l})=>{const{t:c}=C();if(n.length===0)return e.jsx("select",{id:"status-select",disabled:!0,children:e.jsx("option",{value:"",children:c("qrScanner:noOptionsAvailable")})});const d=document.documentElement.classList.contains("dark"),s=je(n,c),r=c(`qrScanner:${i}`).toLowerCase(),a=(t,o)=>{if(!o)return t.label;const j=new RegExp(`(${o})`,"gi"),g=t.label.split(j);return e.jsx("div",{children:g.map((h,b)=>e.jsx("span",{style:{fontWeight:j.test(h)?"normal":""},children:h},b))})};return e.jsx("div",{className:"",children:e.jsx(Z,{options:s,value:s.find(t=>t.value===i),onChange:t=>u(t.value),styles:te(d),placeholder:c("qrScanner:selectAStatus"),isDisabled:l,getOptionLabel:t=>a(t,r)})})},Ce={storage:"/api/storages",disassembly:"/api/disassembly",grooving:"/api/grooving",lmd:"/api/lmd",finishing:"/api/finishing",assembly:"/api/assembly",site:"/api/site","order-number":"/api/order-number"},J=n=>{const i=s=>ue.get(s).then(r=>r.data).catch(r=>{if(r.response.status!==422)throw r}),{data:u,error:l,isLoading:c,mutate:d}=de(n?Ce[n]:null,i);return{data:u,isLoading:c,error:l,mutate:d}},qe=({selectedStatus:n,setSelectedStatus:i,disabled:u})=>{const{t:l}=C(),{user:c}=Y(),{process:d}=ye(c.id);console.log(c);const s=[...(d==null?void 0:d.flatMap((a,t)=>a==="site"?[{id:t,status:"Mounted",labelKey:"mounted"},{id:t+1,status:"Dismounted",labelKey:"dismounted"}]:{id:t,status:a,labelKey:a.toLowerCase()}))||[]];s.push({id:s.length,status:"Disposal",labelKey:"disposal"});const r=s.length>0;return e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("label",{htmlFor:"status-select",className:"mb-1 mt-2 text-sm font-semibold text-primaryText dark:text-gray-100",children:l("qrScanner:status")}),e.jsx(ke,{options:s,selectedStatus:n,setSelectedStatus:i,disabled:u,t:l}),!r&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-100",children:"No options available"})]})},$e=({selectedStatus:n,setSelectedStatus:i,disabled:u,step:l})=>{var t;const{t:c}=C(),s=(t=V().state)==null?void 0:t.data,r=s.serialNumber;m.useEffect(()=>{i(s.status)},[s.status]),c(`qrScanner:${n.toLowerCase()}`);const a=l==="review"?"mt-2":"mt-28";return e.jsx("div",{className:`flex flex-col px-4 py-0 ${a}`,children:e.jsxs("div",{className:"w-full rounded-lg bg-white px-2 py-8 dark:bg-gray-500",children:[e.jsx("h1",{className:"color-primary font-semibold leading-loose",children:c("qrScanner:cylinderInformation")}),e.jsx("label",{className:"text-xs text-secondaryText dark:text-gray-100",children:c("qrScanner:cylinderDetailsInfo")}),e.jsxs("div",{className:"mt-4 w-full text-lg",children:[e.jsxs("div",{className:"mb-2 mt-2 w-full",children:[e.jsx("label",{className:"mb-1 block text-sm font-semibold text-primaryText dark:text-gray-100",children:c("qrScanner:serialNumber")}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"w-full rounded border bg-gray-100 p-2 text-sm dark:bg-gray-600",disabled:!0})]}),e.jsx(qe,{selectedStatus:n,setSelectedStatus:i,disabled:u})]})]})})},Oe=({onClick:n,text:i,className:u,type:l="button",loading:c})=>(console.log(c),e.jsx("div",{className:"fixed inset-x-0 bottom-0",children:e.jsx("div",{className:"flex w-full items-center justify-center bg-gray-50 p-3 dark:bg-gray-600",children:e.jsx("button",{type:l,className:`w-full rounded bg-cyan-to-blue px-2 py-4 font-semibold text-white hover:cursor-pointer focus:bg-cyan-to-blue-active ${u}`,onClick:n,children:c?e.jsx(Ne,{label:"Saving"}):i})})}));function le(n){return ee({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(n)}function Le(n){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L64 64C28.7 64 0 92.7 0 128l0 16 0 48L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-256 0-48 0-16c0-35.3-28.7-64-64-64l-40 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L152 64l0-40zM48 192l352 0 0 256c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256z"},child:[]}]})(n)}const X=({date:n,setDate:i,disabled:u})=>{const[l,c]=m.useState(()=>new Date().toISOString().split("T")[0]),d=m.useRef(null);m.useEffect(()=>{n&&c(n.split("T")[0])},[n]);const s=a=>{const t=new Date,o=String(t.getHours()).padStart(2,"0"),j=String(t.getMinutes()).padStart(2,"0"),g=`${a.toISOString().split("T")[0]}T${o}:${j}`;i(g),c(a.toISOString().split("T")[0])},r=()=>{d.current&&d.current.setFocus()};return e.jsx("div",{className:"relative w-full",children:e.jsxs("div",{className:"flex w-full flex-row items-center rounded border text-sm focus:border focus:border-primary focus:outline-none dark:bg-gray-600",children:[e.jsx(ve,{ref:d,className:"w-full rounded bg-transparent px-2 py-2 text-gray-800 focus:outline-none dark:text-gray-100 sm:w-72 md:w-80 lg:w-96",selected:new Date(l),onChange:s,dateFormat:"yyyy-MM-dd",disabled:u,required:!0}),e.jsx(Le,{className:"absolute right-2 cursor-pointer text-gray-500 dark:text-gray-300",size:18,onClick:r})]})})},Te=({setData:n,disabled:i,setIsComplete:u})=>{var a;const[l,c]=m.useState(()=>{const t=new Date,o=t.getFullYear(),j=String(t.getMonth()+1).padStart(2,"0"),g=String(t.getDate()).padStart(2,"0"),h=String(t.getHours()).padStart(2,"0"),b=String(t.getMinutes()).padStart(2,"0");return`${o}-${j}-${g}T${h}:${b}`}),{t:d}=C(),r=(a=V().state)==null?void 0:a.data;return m.useEffect(()=>{n({serialNumber:r==null?void 0:r.serialNumber,location:"None",dateDone:l,cycle:r==null?void 0:r.cycle}),u(!!l)},[l,r,n,u]),e.jsx("div",{className:"flex flex-col rounded-lg bg-white pb-1 dark:bg-gray-500",children:e.jsxs("div",{className:"w-full p-2",children:[e.jsx("h2",{className:"mb-6 font-semibold",children:d("qrScanner:disposalStatus")}),e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{children:d("qrScanner:disposalDate")}),e.jsx(X,{date:l,setDate:c,disabled:i})]})]})})};function Me(){return e.jsxs("div",{className:"mt-4 max-w-sm animate-pulse py-2",children:[e.jsx("div",{className:"mt-4 h-4 w-32 rounded-full bg-gray-200 dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full rounded-full bg-gray-200 dark:bg-gray-300"}),e.jsx("div",{className:"mt-4 h-4 w-32 rounded-full bg-gray-200 dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full rounded-full bg-gray-200 dark:bg-gray-300"})]})}const oe=({options:n=[],loading:i,error:u,processor:l,setProcessor:c,disabled:d})=>{const{t:s}=C(),r=o=>{const j=(o==null?void 0:o.value)||"";c(j),onLocationChange&&onLocationChange(j)},a=n.map(o=>({value:o.name,label:o.name})),t=document.documentElement.classList.contains("dark");return e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("div",{className:"flex w-full flex-col",children:[i&&e.jsx("div",{children:s("qrScanner:loadingOptions")}),u&&e.jsx("div",{children:s("qrScanner:error",{error:u})}),e.jsx(Z,{value:a.find(o=>o.value===l)||null,onChange:r,options:a,isDisabled:d,styles:te(t),placeholder:s("qrScanner:selectALocation"),isClearable:!0,noOptionsMessage:()=>s(":noOptionsAvailable")})]})})},De=({showAlert:n,setShowAlert:i,selectedStatus:u,setData:l,setIsComplete:c,disabled:d})=>{var y;const{t:s}=C(),r=V(),{user:a}=Y(),t=(y=r.state)==null?void 0:y.data,{data:o,isLoading:j}=J("storage"),g=o==null?void 0:o.data;console.log(g);const[h,b]=m.useState(()=>{var T,D;const f=(T=t==null?void 0:t.updates)!=null&&T.dateDone?new Date((D=t==null?void 0:t.updates)==null?void 0:D.dateDone):new Date,S=f.getFullYear(),q=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0"),$=String(f.getHours()).padStart(2,"0"),M=String(f.getMinutes()).padStart(2,"0");return`${S}-${q}-${v}T${$}:${M}`}),[N,x]=m.useState(t.location);m.useEffect(()=>{l({serialNumber:t==null?void 0:t.serialNumber,location:N,cycle:t==null?void 0:t.cycle,dateDone:h}),c&&c(h!==void 0&&N!=="")},[N,h,l,c]);const p=f=>{b(f),c&&c(f!==""&&N!=="")};return e.jsx("div",{className:"flex flex-col rounded-lg bg-white dark:bg-gray-500",children:e.jsxs("div",{className:"w-full p-2",children:[e.jsx("h2",{className:"mb-2 mt-2 text-base font-semibold leading-loose text-primaryText dark:text-gray-100",children:s("qrScanner:storageStatus")}),j?e.jsx(Me,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-primaryText dark:text-gray-200",children:[s("qrScanner:locationSite")," "]}),a.is_admin==1?e.jsx(oe,{options:g,loading:j,processor:N,setProcessor:x,disabled:d}):e.jsx("input",{type:"text",value:a.affiliation,readOnly:!0,className:"w-full rounded border bg-gray-100 p-2 text-sm dark:bg-gray-600",disabled:!0}),n&&e.jsx("div",{className:"mb-2 rounded p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:"Processor is required."})})]}),e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-primaryText dark:text-gray-200",children:[s("qrScanner:startDate")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx(X,{date:h,setDate:p,disabled:d}),n&&!h&&e.jsx("div",{className:"mb-2 rounded p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:"Processor is required."})})]})]})]})})},Pe=({passed:n,setPassed:i,disabled:u})=>{const{t:l}=C(),c=d=>{i(n===d?"0":d)};return e.jsx("div",{children:e.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-2 rounded-full border bg-white p-1 text-sm text-primaryText",children:[e.jsx("button",{className:`grow rounded-full p-2 transition-colors duration-300 ${+n==1?"bg-green-400 text-white":"bg-white"}`,type:"button",onClick:()=>c(1),disabled:u,children:l("common:yes")}),e.jsx("div",{className:"h-8 w-px gap-1 bg-gray-300"}),e.jsx("button",{type:"button",className:`grow rounded-full p-2 transition-colors duration-300 ${+n==2?"bg-red-400 text-white":"bg-white"}`,onClick:()=>c(2),disabled:u,children:l("common:no")})]})})},Ee="flex flex-col lg:h-[1000px] xs:h-[620px] bg-gray-100 px-4 py-1 overscroll-y-hidden overflow-y-hidden dark:bg-gray-700",He=({cycle:n,setCycle:i,disabled:u})=>{const{t:l}=C();return e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"text-sm font-semibold text-primaryText dark:text-gray-100",children:l("qrScanner:cycle")}),e.jsx("div",{className:"rounded",children:e.jsx("input",{type:"number",className:"w-full rounded border p-2 dark:bg-gray-600",value:n,onChange:c=>{i(c.target.value)},disabled:u})})]})},Be=({selectedOrderNo:n,setSelectedOrderNo:i,disabled:u})=>{var j;const[l,c]=m.useState(""),[d,s]=m.useState(!1),r=(j=J("order-number").data)==null?void 0:j.data,{t:a}=C(),t=(r==null?void 0:r.filter(g=>{var h;return(h=g==null?void 0:g.name)==null?void 0:h.toLowerCase().includes(l.toLowerCase())}))||[];console.log(t);const o=g=>{i(g),c(""),s(!1)};return e.jsxs("div",{className:"mt-2 flex w-full flex-col text-sm text-primaryText",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsxs("label",{className:"font-semibold",children:[a("qrScanner:orderNo")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx("input",{className:"w-full rounded border px-2 py-2 text-gray-600 dark:bg-gray-600 dark:text-gray-100",type:"text",placeholder:a("qrScanner:selectAnOrderNumber"),value:n,readOnly:!0,onClick:()=>s(!0),disabled:u}),e.jsx("button",{className:"absolute right-2 top-1/2 mt-3 -translate-y-1/2 transform",onClick:()=>s(!0),children:e.jsx(le,{className:"text-primaryText dark:text-gray-50"})})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-white dark:bg-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between border-b p-4",children:e.jsx("button",{className:"text-gray-500 dark:text-gray-100",onClick:()=>s(!1),children:"Close"})}),e.jsx("div",{className:"p-4",children:e.jsx("input",{className:"w-full rounded border bg-transparent p-2 dark:bg-gray-800 dark:text-gray-100",type:"text",placeholder:"Search order numbers",value:l,onChange:g=>c(g.target.value)})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l?e.jsx("ul",{className:"space-y-2",children:t.length>0?t==null?void 0:t.map(g=>e.jsx("li",{className:"cursor-pointer hover:bg-cyan-100 dark:text-gray-100",onClick:()=>o(g.name),children:g.name},g.id)):e.jsx("p",{className:"text-gray-500",children:"No results found"})}):e.jsx("ul",{className:"space-y-2",children:r==null?void 0:r.map(g=>e.jsx("li",{className:"cursor-pointer text-gray-700 hover:bg-cyan-100 dark:text-gray-100",onClick:()=>o(g.name),children:g.name},g.id))})})]})]})},Ie=({selectedCase:n,setSelectedCase:i,disabled:u,setDisabledProcessors:l,handleInfoIconClick:c})=>{const{t:d}=C("qrScanner"),s=[{id:0,name:d("case0")},{id:1,name:d("case1")},{id:2,name:d("case2")}],r=a=>{i(t=>t===a?null:a)};return e.jsxs("div",{className:"mt-4 text-primaryText dark:text-gray-100",children:[e.jsxs("label",{className:"mb-2 flex flex-row items-center justify-between text-sm font-semibold",children:[e.jsxs("div",{children:[d("qrScanner:case")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx(me,{size:20,className:"ml-2 cursor-pointer",onClick:c})]}),e.jsx("div",{className:"flex flex-row items-center justify-between gap-2 rounded text-xs",children:s.map(a=>e.jsx("button",{type:"button",className:`${Se} ${n===a.id?"h-12 w-full bg-primary font-semibold text-white transition-all duration-200 ease-in-out":"h-12 w-full border border-primary font-semibold text-primary transition-all duration-200 ease-in-out"}`,onClick:()=>r(a.id),disabled:u,children:a.name},a.id))}),e.jsx("input",{type:"text",className:"hidden",value:n??"",readOnly:!0})]})};function Re(){return e.jsxs("div",{className:"mt-4 max-w-sm animate-pulse py-2",children:[e.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsxs("div",{className:"flex mt-2 justify-between",children:[e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded-full dark:bg-gray-300"})]}),e.jsx("div",{className:"h-4 w-32 mt-4 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"h-4 w-32 mt-4 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"h-4 w-32 mt-4 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"h-4 w-32 mt-4 bg-gray-200 rounded-full dark:bg-gray-300"}),e.jsx("div",{className:"mt-2 h-8 w-full bg-gray-200 rounded-full dark:bg-gray-300"})]})}const I=n=>{const i=n.getFullYear(),u=String(n.getMonth()+1).padStart(2,"0"),l=String(n.getDate()).padStart(2,"0"),c=String(n.getHours()).padStart(2,"0"),d=String(n.getMinutes()).padStart(2,"0");return`${i}-${u}-${l}T${c}:${d}`},K=({selectedProcessorStatus:n,setData:i,disabled:u,showAlert:l,setShowAlert:c})=>{var P,R,z,A,O;const s=(P=V().state)==null?void 0:P.data,{user:r}=Y(),{t:a}=C("qrScanner"),t=J(n.toLowerCase()).data;console.log(t);const[o,j]=m.useState(s),[g,h]=m.useState(o==null?void 0:o.case),[b,N]=m.useState(o==null?void 0:o.location),[x,p]=m.useState(()=>{var k,L;const w=(k=o==null?void 0:o.updates)!=null&&k.dateDone?new Date((L=o==null?void 0:o.updates)==null?void 0:L.dateDone):new Date;return I(w)}),[y,f]=m.useState((z=(R=o==null?void 0:o.updates)==null?void 0:R.otherDetails)==null?void 0:z.isPassed),[S,q]=m.useState(o==null?void 0:o.cycle),[v,$]=m.useState((O=(A=o==null?void 0:o.updates)==null?void 0:A.otherDetails)==null?void 0:O.orderNumber),[M,T]=m.useState(!1),[D,F]=m.useState(""),[U,G]=m.useState([]);m.useEffect(()=>{var w,k,L,H;n===s.status?(h(o==null?void 0:o.case),N(o==null?void 0:o.location),p(I(new Date)),f((k=(w=o==null?void 0:o.updates)==null?void 0:w.otherDetails)==null?void 0:k.isPassed),$((H=(L=o==null?void 0:o.updates)==null?void 0:L.otherDetails)==null?void 0:H.orderNumber)):(p(I(new Date)),f("0"),N(null))},[n]),m.useEffect(()=>{p(I(new Date))},[y]),m.useEffect(()=>{i({serialNumber:o==null?void 0:o.serialNumber,location:r.is_admin===1?b:r.affiliation,dateDone:x,cycle:S,otherDetails:`{"case" : "${g}", "isPassed" : "${y}", "orderNumber" : "${v}"}`}),g&&b&&x&&v&&c(!1)},[b,x,y,S,v,g,o,i]);const B=()=>{var L;return((L={disassembly:t==null?void 0:t.data,assembly:t==null?void 0:t.data,finishing:t==null?void 0:t.data,grooving:t==null?void 0:t.data,lmd:t==null?void 0:t.data}[n==null?void 0:n.toLowerCase()])==null?void 0:L.filter(H=>H.status!==2))?e.jsxs("div",{children:[e.jsx(Ie,{handleInfoIconClick:E,selectedCase:g,setSelectedCase:h,disabled:u,setDisabledProcessors:G}),l&&g===null&&e.jsx("div",{className:"p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:a("validation.caseRequired")})}),e.jsx("label",{className:"mt-2 text-sm font-semibold text-primaryText dark:text-gray-100",children:a("qrScanner:processor")}),r.is_admin===1?e.jsx(oe,{options:t.data,processor:b,setProcessor:N,disabled:u}):e.jsx("input",{type:"text",value:r.affiliation,readOnly:!0,className:"w-full rounded border bg-gray-100 p-2 text-sm dark:bg-gray-600",disabled:!0}),l&&!b&&e.jsx("div",{className:"p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:a("validation.processorRequired")})}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-primaryText dark:text-gray-100",children:[a("qrScanner:completionDate")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx(X,{date:x,setDate:p,disabled:u}),l&&!x&&e.jsx("div",{className:"p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:a("validation.dateRequired")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-primaryText dark:text-gray-100",children:a("qrScanner:passed")}),e.jsx(Pe,{passed:y,setPassed:f,disabled:u})]}),e.jsx(He,{cycle:S,setCycle:q,disabled:!0}),e.jsxs("div",{children:[e.jsx(Be,{selectedOrderNo:v,setSelectedOrderNo:$,disabled:u}),l&&!v&&e.jsx("div",{className:"p-1 text-red-600",children:e.jsx("p",{className:"text-xs",children:a("validation.orderNumberRequired")})})]})]}):e.jsx(Re,{})},E=()=>{const w={0:a("qrScanner:dialog.case0Description",{process:"LMD → Finishing → Assembly"}),1:a("qrScanner:dialog.case1Description",{process:"Disassembly → Grooving → LMD → Assembly"}),2:a("qrScanner:dialog.case2Description",{process:"Disassembly → Assembly"})},k=`
    <strong>${a("qrScanner:dialog.caseDescriptions")}</strong>
    <ul classname="mb-2">
      <li>${a("qrScanner:dialog.case0")} -<em> ${w[0]}</em></li>
      <li>${a("qrScanner:dialog.case1")} -<em> ${w[1]}</em></li>
      <li>${a("qrScanner:dialog.case2")} -<em> ${w[2]}</em></li>
    </ul>
  `;T(!0),F(k),setTimeout(()=>{T(!1)},5e3)};return e.jsxs("div",{className:"flex w-full flex-col rounded-lg bg-white p-2 dark:bg-gray-500",children:[e.jsx("h2",{className:"mt-2 flex flex-row items-center gap-2 text-md font-semibold leading-loose text-primaryText dark:text-gray-100",children:a("qrScanner:processStatus")}),M&&e.jsx("div",{className:"absolute left-64 top-96 z-10 -translate-x-1/4 transform rounded-md border bg-white p-4 shadow-md dark:bg-gray-800",children:e.jsx("p",{className:"pointer-events-none text-xs",dangerouslySetInnerHTML:{__html:D}})}),B()]})};function ze(){return e.jsx("div",{className:"animate-pulse",children:Array.from({length:3}).map((n,i)=>e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-full dark:bg-gray-300 w-16"}),e.jsxs("div",{className:"mt-4 ms-4 flex gap-2 flex-col",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded-full dark:bg-gray-300 w-48"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-full dark:bg-gray-300 w-64"})]})]},i))})}const Ae=({site:n,setSite:i,disabled:u,showAlert:l})=>{const[c,d]=m.useState(""),[s,r]=m.useState(!1),{data:a,isLoading:t}=J("site"),{t:o}=C(),j=(a==null?void 0:a.data)||[],g=j.reduce((x,p)=>{var f;const y=(f=p.name)==null?void 0:f.charAt(0).toUpperCase();return y&&(x[y]||(x[y]=[]),x[y].push(p)),x},{}),h=g?Object.keys(g).sort().reduce((x,p)=>{const y=g[p].filter(f=>{var S;return(S=f.name)==null?void 0:S.toLowerCase().includes(c.toLowerCase())});return y.length>0&&(x[p]=y),x},{}):{},b=c?j.filter(x=>{var p;return(p=x.name)==null?void 0:p.toLowerCase().includes(c.toLowerCase())}):[],N=x=>{i(x),d(""),r(!1)};return e.jsxs("div",{className:"mt-2 flex w-full flex-col",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsxs("label",{children:[o("qrScanner:siteName")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx("input",{className:"w-full rounded border bg-transparent px-2 py-2 dark:bg-gray-600",type:"text",placeholder:n==="None"?o("qrScanner:selectaSite"):n,value:n==="None"?"":n,readOnly:!0,onClick:()=>r(!0),disabled:u}),e.jsx("button",{className:"absolute right-2 top-1/2 mt-3 -translate-y-1/2 transform",onClick:()=>r(!0),children:e.jsx(le,{})}),l&&!n&&e.jsx("p",{className:"text-xs text-red-600",children:o("validation.siteRequired")})]}),s&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-white dark:bg-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between border-b p-4",children:e.jsx("button",{className:"text-gray-500 dark:text-gray-50",onClick:()=>r(!1),children:"Close"})}),e.jsx("div",{className:"p-4",children:e.jsx("input",{className:"w-full rounded border bg-transparent p-2",type:"text",placeholder:"Search site names",value:c,onChange:x=>d(x.target.value)})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c?e.jsx("ul",{className:"space-y-2",children:b.length>0?b.map(x=>e.jsx("li",{className:"cursor-pointer hover:bg-cyan-100",onClick:()=>N(x.name),children:x.name},x.id)):e.jsx("p",{className:"text-gray-500",children:"No results found"})}):t?e.jsx(ze,{}):Object.keys(h).map(x=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:x}),e.jsx("ul",{className:"ml-4 space-y-2",children:h[x].map(p=>e.jsx("li",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>N(p.name),children:p.name},p.id))})]},x))})]})]})},ce=({affiliation:n,site:i,setSite:u,engineNum:l,setEngineNum:c,opHours:d,setOpHours:s,disabled:r,showAlert:a,setShowAlert:t})=>{const{t:o}=C("qrScanner"),{user:j}=Y(),[g,h]=m.useState(""),[b,N]=m.useState(""),x=y=>{const f=y.target.value;f.length<=2?(c(f),h("")):h("Engine number cannot exceed 2 characters.")},p=y=>{const f=y.target.value;f>=0||f===""?(s(f),N("")):N("Operating hours must be a non-negative number.")};return console.log(i),e.jsxs("div",{className:"flex flex-col p-2",children:[j.is_admin===1?e.jsx(Ae,{site:i,setSite:u,disabled:r,showAlert:a}):e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("label",{className:"font-semibold",children:o("qrScanner:engineInfo")}),e.jsx("label",{children:o("qrScanner:siteName")}),e.jsx("input",{className:"w-full rounded border bg-transparent px-2 py-2 dark:bg-gray-600",type:"text",value:n,readOnly:!0,disabled:r})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("qrScanner:engineNo")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:l,className:`w-full rounded border bg-transparent p-2 focus:border focus:border-primary focus:outline-none dark:bg-gray-600 ${g?"border-red-500":""}`,type:"number",placeholder:"Enter engine number (max 2 characters)",onChange:x,disabled:r}),g&&e.jsx("p",{className:"text-tiny text-red-500",children:g}),a&&!l&&e.jsx("p",{className:"text-xs text-red-600",children:o("validation.engineNumberRequired")})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("qrScanner:operatingHours")," ",e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx("input",{className:`w-full rounded border bg-transparent p-2 focus:border focus:border-primary focus:outline-none dark:bg-gray-600 ${b?"border-red-500":""}`,type:"number",value:d,placeholder:"e.g. 000",onChange:p,disabled:r,required:!0}),a&&d===""&&e.jsx("p",{className:"text-xs text-red-600",children:o("validation.opHoursRequired")}),b&&e.jsx("p",{className:"text-tiny text-red-500",children:b})]})]})},Fe=({mountPos:n,setMountPos:i,disabled:u,t:l})=>{const d=["A1","A2","A3","A4","A5","A6","A7","A8","A9","B1","B2","B3","B4","B5","B6","B7","B8","B9"].map(a=>({value:a,label:a})),s=a=>{const t=(a==null?void 0:a.value)||"";console.log("Selected Mounting Position:",t),i(t)},r=document.documentElement.classList.contains("dark");return e.jsx("div",{className:"flex flex-col space-y-2",children:e.jsx(Z,{id:"mountingPosition",value:d.find(a=>a.value===n)||null,onChange:s,options:d,isDisabled:u,styles:te(r),placeholder:"e.g. B1",isClearable:!0,noOptionsMessage:()=>"No positions available"})})},ie=({mountPos:n,setMountPos:i,date:u,setDate:l,cycle:c,setCycle:d,disabled:s,showAlert:r,setShowAlert:a})=>{const{t}=C("qrScanner");return e.jsxs("div",{className:"flex w-full flex-col p-2",children:[e.jsx("label",{className:"mb-2 font-semibold",children:t("qrScanner:additionalInfo")}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{children:[t("mountingPosition"),e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx(Fe,{mountPos:n,setMountPos:i,disabled:s,t}),r&&!n&&e.jsx("p",{className:"text-xs text-red-600",children:t("validation.engineNumberRequired")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("label",{children:[t("completionDate"),e.jsx("strong",{className:"text-red-500",children:"*"})]}),e.jsx(X,{date:u,setDate:l,disabled:s}),r&&!u&&e.jsx("p",{className:"text-xs text-red-600",children:t("validation.completionDateRequired")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("label",{children:t("cycle")}),e.jsx("input",{className:"w-full rounded border p-2",type:"number",value:c,onChange:o=>d(o.target.value),disabled:!0})]})]})},Ge=({selectedStatus:n,setData:i,disabled:u,showAlert:l,setShowAlert:c,resetFlag:d})=>{var $,M,T,D,F,U,G;const r=($=V().state)==null?void 0:$.data,{user:a}=Y(),[t,o]=m.useState(r);console.log(t);const[j,g]=m.useState(t==null?void 0:t.location),[h,b]=m.useState((T=(M=t==null?void 0:t.updates)==null?void 0:M.otherDetails)==null?void 0:T.engineNumber),[N,x]=m.useState((F=(D=t==null?void 0:t.updates)==null?void 0:D.otherDetails)==null?void 0:F.operationHours),[p,y]=m.useState((G=(U=t==null?void 0:t.updates)==null?void 0:U.otherDetails)==null?void 0:G.mountingPosition),[f,S]=m.useState(()=>{var E,P;const B=(E=t==null?void 0:t.updates)!=null&&E.dateDone?new Date((P=t==null?void 0:t.updates)==null?void 0:P.dateDone):new Date;return I(B)}),[q,v]=m.useState(t==null?void 0:t.cycle);return m.useEffect(()=>{var B,E,P,R,z,A,O;n===(r==null?void 0:r.status)?(g(r==null?void 0:r.location),b((E=(B=r==null?void 0:r.updates)==null?void 0:B.otherDetails)==null?void 0:E.engineNumber),x((R=(P=r==null?void 0:r.updates)==null?void 0:P.otherDetails)==null?void 0:R.operationHours),y((A=(z=r==null?void 0:r.updates)==null?void 0:z.otherDetails)==null?void 0:A.mountingPosition),S(((O=r==null?void 0:r.updates)==null?void 0:O.dateDone)||new Date)):(S(I(new Date)),x(""))},[n]),m.useEffect(()=>{i({serialNumber:r==null?void 0:r.serialNumber,location:a.is_admin===1?j:a.affiliation,dateDone:f,cycle:q,otherDetails:`{"engineNumber" : "${h}", "operationHours" : "${N}", "mountingPosition" : "${p}"}`})},[j,h,N,p,f,q,i]),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"w-full rounded-lg bg-white p-2 text-sm dark:bg-gray-500",children:e.jsx(ce,{affiliation:a.affiliation,site:j,setSite:g,engineNum:h,setEngineNum:b,opHours:N,setOpHours:x,disabled:u,showAlert:l,setShowAlert:c})}),e.jsx("div",{className:"mt-3 w-full rounded-lg bg-white p-2 text-sm dark:bg-gray-500",children:e.jsx(ie,{mountPos:p,setMountPos:y,date:f,setDate:S,cycle:q,setCycle:v,disabled:u,showAlert:l,setShowAlert:c})})]})},_e=({selectedStatus:n,setData:i,disabled:u,showAlert:l,setShowAlert:c})=>{var v,$,M,T,D,F,U,G,B,E,P,R,z,A;const s=(v=V().state)==null?void 0:v.data,{user:r}=Y(),[a,t]=m.useState(s);console.log(a);const[o,j]=m.useState(a==null?void 0:a.location),[g,h]=m.useState((M=($=a==null?void 0:a.updates)==null?void 0:$.otherDetails)==null?void 0:M.engineNumber),[b,N]=m.useState((D=(T=a==null?void 0:a.updates)==null?void 0:T.otherDetails)==null?void 0:D.operationHours),[x,p]=m.useState((U=(F=a==null?void 0:a.updates)==null?void 0:F.otherDetails)==null?void 0:U.mountingPosition),[y,f]=m.useState(()=>{var w,k;const O=(w=a==null?void 0:a.updates)!=null&&w.dateDone?new Date((k=a==null?void 0:a.updates)==null?void 0:k.dateDone):new Date;return I(O)}),[S,q]=m.useState(a==null?void 0:a.cycle);return m.useEffect(()=>{var O,w,k,L,H,_,Q;n===(s==null?void 0:s.status)?(j(s==null?void 0:s.location),h(((w=(O=s==null?void 0:s.updates)==null?void 0:O.otherDetails)==null?void 0:w.engineNumber)||""),N(((L=(k=s==null?void 0:s.updates)==null?void 0:k.otherDetails)==null?void 0:L.operationHours)||""),p(((_=(H=s==null?void 0:s.updates)==null?void 0:H.otherDetails)==null?void 0:_.mountingPosition)||""),f(((Q=s==null?void 0:s.updates)==null?void 0:Q.dateDone)||new Date)):(N(""),f(new Date().toISOString().slice(0,16)))},[s==null?void 0:s.location,s==null?void 0:s.status,(G=s==null?void 0:s.updates)==null?void 0:G.dateDone,(E=(B=s==null?void 0:s.updates)==null?void 0:B.otherDetails)==null?void 0:E.engineNumber,(R=(P=s==null?void 0:s.updates)==null?void 0:P.otherDetails)==null?void 0:R.mountingPosition,(A=(z=s==null?void 0:s.updates)==null?void 0:z.otherDetails)==null?void 0:A.operationHours,n]),m.useEffect(()=>{var O,w,k,L,H,_,Q;n===(s==null?void 0:s.status)?(h((w=(O=s==null?void 0:s.updates)==null?void 0:O.otherDetails)==null?void 0:w.engineNumber),N((L=(k=s==null?void 0:s.updates)==null?void 0:k.otherDetails)==null?void 0:L.operationHours),p((_=(H=s==null?void 0:s.updates)==null?void 0:H.otherDetails)==null?void 0:_.mountingPosition),f(((Q=s==null?void 0:s.updates)==null?void 0:Q.dateDone)||new Date)):(N(""),f(I(new Date)))},[n,s]),m.useEffect(()=>{f(I(new Date))},[]),m.useEffect(()=>{i({serialNumber:s==null?void 0:s.serialNumber,location:r.is_admin===1?o:r.affiliation,dateDone:y,cycle:S,otherDetails:`{"engineNumber" : "${g}", "operationHours" : "${b}", "mountingPosition" : "${x}"}`})},[g,b,x,y,S,i]),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"w-full rounded-lg bg-white p-2 text-sm dark:bg-gray-500",children:e.jsx(ce,{affiliation:r.affiliation,site:o,setSite:j,engineNum:g,setEngineNum:h,opHours:b,setOpHours:N,disabled:u,showAlert:l,setShowAlert:c})}),e.jsx("div",{className:"mt-3 w-full rounded-lg bg-white p-2 text-sm dark:bg-gray-500",children:e.jsx(ie,{mountPos:x,setMountPos:p,date:y,setDate:f,cycle:S,setCycle:q,disabled:u,showAlert:l,setShowAlert:c})})]})},Ve=({step:n,handleEdit:i,disabled:u})=>{const{t:l}=C("qrScanner");xe();const c=se(),d=()=>{c("/qrscanner")};return e.jsx("div",{children:e.jsxs("div",{className:"fixed z-20 mb-3 flex w-full flex-row rounded-b-3xl bg-white px-4 py-8 shadow-sm dark:bg-gray-600",children:[e.jsx("div",{className:"flex",onClick:d,children:e.jsx(ge,{size:24,className:"text-primaryText dark:text-gray-100"})}),e.jsx("p",{className:"flex-grow text-center text-base font-semibold text-primaryText dark:text-gray-100",children:l("qrScanner:scannedResult")}),n==="review"&&e.jsx("button",{type:"button",className:"absolute right-4 top-6 rounded bg-primary px-4 py-2 text-white",onClick:i,disabled:u,children:"Edit"})]})})},Ue=({selectedStatus:n,setData:i,disabled:u,setIsComplete:l,showAlert:c,setShowAlert:d})=>{const r={disposal:Te,storage:De,mounted:_e,dismounted:Ge,disassembly:K,grooving:K,lmd:K,assembly:K,finishing:K}[n==null?void 0:n.toLowerCase()];return e.jsx("div",{className:Ee,children:r?e.jsx(r,{selectedStatus:n,selectedProcessorStatus:n,setData:i,disabled:u,setIsComplete:l,showAlert:c,setShowAlert:d}):e.jsx("div",{className:"border p-2"})})},ae=({data:n,selectedStatus:i})=>{const u=se(),{updateHistory:l}=he(),{t:c}=C(),d=()=>{u("/qrscanner")},s=()=>{l(n),u("/")},{bgColor:r,textColor:a}=fe(i),t=o=>{const j=new Set,g={serialNumber:c("qrScanner:label.serialNo"),location:c("qrScanner:label.location"),dateDone:c("qrScanner:label.completionDate"),cycle:c("qrScanner:label.cycle"),case:c("qrScanner:label.case"),isPassed:c("qrScanner:label.status"),orderNumber:c("qrScanner:label.orderNo"),otherDetails:c("qrScanner:label.additionalInfo"),engineNumber:c("qrScanner:label.engineNo"),operationHours:c("qrScanner:label.operatingHours"),mountingPosition:c("qrScanner:label.mountingPosition")};return Object.entries(o).map(([h,b])=>{if(j.has(h))return null;j.add(h);const N=g[h]||h;if(h==="dateDone"&&typeof b=="string"&&(b=b.replace("T",", ")),h==="otherDetails")try{const x=JSON.parse(b);return x.isPassed!==""&&(+x.isPassed==1?x.isPassed="Yes":+x.isPassed==2?x.isPassed="No":+x.isPassed==0&&(x.isPassed="Ongoing")),Object.entries(x).map(([p,y])=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium capitalize",children:[g[p]||p,":"]}),e.jsx("span",{children:String(y)})]},p))}catch{return e.jsx("p",{className:"text-sm text-gray-500",children:"Invalid data format"})}return e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium capitalize",children:[N,":"]}),e.jsx("span",{children:String(b)})]},h)})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx("div",{className:"w-80 max-w-md transform rounded-lg bg-white p-4 shadow-lg transition-transform dark:bg-gray-600",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-bounce",children:e.jsx(pe,{size:32,color:"#41c88b"})}),e.jsx("p",{className:"font-medium text-green-500",children:"Updated successfully"}),i&&e.jsx("div",{className:`mt-2 rounded-full p-2 text-sm font-medium ${a} ${r}`,children:i}),e.jsxs("div",{className:"mt-4 w-full rounded bg-gray-100 p-2 dark:bg-gray-500",children:[e.jsx("p",{className:"flex items-center justify-center text-sm font-semibold",children:"Details"}),n?e.jsx("ul",{className:"text-sm text-gray-700 dark:text-gray-200",children:t(n)}):e.jsx("p",{className:"text-sm text-gray-500",children:"No data available"})]}),e.jsxs("div",{className:"flex w-full flex-row items-center justify-between pt-8 text-sm",children:[e.jsxs("button",{onClick:d,className:"mr-3 flex w-full items-center rounded-lg bg-gray-100 p-4 transition hover:bg-gray-200 dark:bg-gray-500",children:[e.jsx(ne,{className:"size-4"}),e.jsx("p",{className:"px-2",children:"Back to QR"})]}),e.jsxs("button",{onClick:s,className:"flex w-full rounded-lg bg-primary p-4 text-white transition hover:bg-cyan-500",children:[e.jsx(re,{className:"size-4"}),e.jsx("p",{className:"px-1",children:"Go to home"})]})]})]})})})};function Ye(n){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M20,8 C18.5343681,5.03213345 15.4860999,3 11.9637942,3 C7.01333514,3 3,7.02954545 3,12 M4,16 C5.4656319,18.9678666 8.51390007,21 12.0362058,21 C16.9866649,21 21,16.9704545 21,12 M9,16 L3,16 L3,22 M21,2 L21,8 L15,8"},child:[]}]})(n)}const Qe=({selectedStatus:n,data:i,onClose:u})=>{var t;const l=se(),d=(t=V().state)==null?void 0:t.data,s=(d==null?void 0:d.status)==="Dismounted"&&n==="Storage"?+(i==null?void 0:i.cycle)+1:+(i==null?void 0:i.cycle),r=()=>{l("/qrscanner")},a=()=>{l("/")};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",children:e.jsxs("div",{className:"relative w-80 max-w-md transform rounded-lg bg-white p-6 shadow-lg transition-all duration-500 dark:bg-gray-600",children:[e.jsx("button",{onClick:u,className:"absolute right-2 top-2 text-gray-400 transition hover:text-gray-600",children:e.jsx(be,{size:20})}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"p-2",children:e.jsx(Ye,{size:32,color:"#41c88b"})}),e.jsx("p",{className:"text-lg font-medium text-green-500",children:"Current Cycle"}),e.jsx("div",{className:"mt-4 w-full rounded-lg bg-gray-100 py-2 text-center shadow-inner dark:bg-gray-700",children:e.jsx("p",{className:"text-lg font-bold text-gray-700 dark:text-gray-200",children:s})}),e.jsxs("div",{className:"flex w-full flex-row items-center justify-between pt-6 text-sm",children:[e.jsxs("button",{onClick:r,className:"mr-2 flex w-full items-center justify-center rounded-lg bg-gray-100 p-3 text-gray-600 transition hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100",children:[e.jsx(ne,{size:16}),e.jsx("p",{className:"ml-2 font-medium",children:"Back to QR"})]}),e.jsxs("button",{onClick:a,className:"flex w-full justify-center rounded-lg bg-primary p-3 text-white transition hover:bg-cyan-500",children:[e.jsx(re,{size:16}),e.jsx("p",{className:"ml-2 font-medium",children:"Go to home"})]})]})]})]})})},ts=()=>{const{addUpdate:n}=we(),[i,u]=m.useState("None"),[l,c]=m.useState({}),[d,s]=m.useState("view"),[r,a]=m.useState(!1),[t,o]=m.useState("success"),[j,g]=m.useState(0),[h,b]=m.useState(!1),[N,x]=m.useState(!1),[p,y]=m.useState(!1),f=q=>{q.preventDefault();let v={};try{typeof l.otherDetails=="string"&&l.otherDetails.trim()!==""?v=JSON.parse(l.otherDetails):v={}}catch{v={}}if(i==="Disposal"&&(!l.serialNumber||!l.cycle||!l.dateDone)){x(!0);return}if(i==="Storage"&&(!l.serialNumber||!l.cycle||!l.dateDone)){x(!0);return}if(!l.serialNumber||!l.cycle||v.case===null||v.isPassed===""||v.orderNumber===""||v.engineNumber===""||v.operationHours===""||v.mountingPosition===""){x(!0);return}else x(!1);if(d==="view")h&&s("review");else if(d==="review"){const $=l.cycle;g($),o(i==="Storage"?"Storage":"success"),n(l,i,a,y)}else d==="edit"&&s("review")},S=q=>{q.preventDefault(),s("edit")};return m.useEffect(()=>{const q=l.serialNumber&&l.serialNumber!=="",v=l.dateDone&&l.dateDone!=="",$=l.cycle&&l.cycle!==void 0,M=q&&$&&v,T=i==="Disposal"&&l.dateDone;b(M||T)},[l,i]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex w-full flex-col bg-gray-100 dark:bg-gray-700",children:[e.jsx(Ve,{step:d,handleEdit:S}),d==="review"&&e.jsx("div",{className:"mt-20 flex w-full flex-col rounded-lg",children:e.jsxs("div",{className:"px-3 py-6",children:[e.jsx("p",{className:"flex px-2 text-base font-semibold",children:W("common:reviewInfo")}),e.jsx("p",{className:"flex px-2 text-xs text-gray-500 dark:text-gray-300",children:W("common:reviewDetails")})]})}),e.jsx($e,{selectedStatus:i,setSelectedStatus:u,disabled:d==="review",step:d}),e.jsx("div",{className:"mt-2",children:e.jsx(Ue,{selectedStatus:i,setData:c,disabled:d==="review",step:d,setIsComplete:b,showAlert:N,setShowAlert:x})}),e.jsx(Oe,{onClick:f,text:d==="review"?W("common:saveButton"):W("common:continueButton"),disabled:!h,loading:p})]}),r&&(h?t==="Storage"?e.jsx(Qe,{selectedStatus:i,cycle:j,data:l,onClose:()=>a(!1)}):e.jsx(ae,{data:l,selectedStatus:i,onClose:()=>a(!1)}):e.jsx(ae,{data:l,selectedStatus:i,onClose:()=>a(!1)}))]})};export{ts as default};
