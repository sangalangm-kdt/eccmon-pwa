import{r as t,f as S,b as E,j as s,I as F,h as w,i as x}from"./index-CVX-mQLn.js";import{L as I}from"./Loader-B2iA8l-6.js";const L=()=>{const[r,u]=t.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{changePassword:f}=S(),[a,o]=t.useState({}),[O,g]=t.useState(!1),[n,p]=t.useState(!1),[d,h]=t.useState(!1),[l,y]=t.useState(!1),[P,b]=t.useState(!1),j=E(),c=e=>{const{name:m,value:C}=e.target;u({...r,[m]:C}),o({...a,[m]:""})},N=()=>{const e={};return r.currentPassword||(e.currentPassword="Current password is required."),r.newPassword?r.newPassword.length<8&&(e.newPassword="New password must be at least 8 characters long."):e.newPassword="New password is required.",r.confirmPassword?r.newPassword!==r.confirmPassword&&(e.confirmPassword="Passwords do not match."):e.confirmPassword="Please confirm your new password.",o(e),Object.keys(e).length===0},k=e=>{e.preventDefault(),N()&&(f({current_password:r.currentPassword,password:r.newPassword,password_confirmation:r.confirmPassword,setErrors:o,setLoading:b}),console.log(a),g(!0),u({currentPassword:"",newPassword:"",confirmPassword:""}),o({}))},v=()=>{j("/profile")},i=e=>{e==="currentPassword"?p(!n):e==="newPassword"?h(!d):e==="confirmPassword"&&y(!l)};return s.jsxs("div",{className:"flex h-screen flex-col justify-between",children:[s.jsxs("div",{className:"flex w-full items-center justify-start rounded-b-xl py-6 shadow-md dark:bg-gray-700",children:[s.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-1 rounded-full p-2",children:[s.jsx(F,{className:"text-gray-700 dark:text-gray-100"}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-100",children:"Back"})]}),s.jsx("h1",{className:"flex-1 text-center font-medium text-gray-700 dark:text-gray-100 xs:mr-16",children:"Change Password"})]}),s.jsxs("form",{onSubmit:k,className:"mt-8 flex flex-grow flex-col gap-4 px-4 text-sm",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"currentPassword",className:"text-gray-600 dark:text-gray-50",children:"Current password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:n?"text":"password",id:"current-password",name:"currentPassword",value:r.currentPassword,onChange:c,className:"w-full gap-2 rounded border p-2 text-gray-700 outline-none focus:border-0.5 focus:border-primary dark:border-gray-400 dark:bg-gray-800 dark:text-gray-100",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>i("currentPassword"),className:"absolute right-3 top-3",children:n?s.jsx(w,{className:"text-gray-600 dark:text-gray-50"}):s.jsx(x,{className:"text-gray-600 dark:text-gray-50"})})]}),a.currentPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.currentPassword})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"newPassword",className:"text-gray-600 dark:text-gray-50",children:"New password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",id:"new-password",name:"newPassword",value:r.newPassword,onChange:c,className:"w-full rounded border p-2 outline-none focus:border-0.5 focus:border-primary dark:border-gray-400 dark:bg-gray-800 dark:text-gray-50",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>i("newPassword"),className:"absolute right-3 top-3",children:d?s.jsx(w,{className:"text-gray-600 dark:text-gray-50"}):s.jsx(x,{className:"text-gray-600 dark:text-gray-50"})})]}),a.newPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.newPassword})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"confirmNewPassword",className:"text-gray-600 dark:text-gray-50",children:"Confirm new password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",id:"confirm-new-password",name:"confirmPassword",value:r.confirmPassword,onChange:c,className:"w-full rounded border p-2 outline-none focus:border-0.5 focus:border-primary dark:border-gray-400 dark:bg-gray-800 dark:text-gray-50",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>i("confirmPassword"),className:"absolute right-3 top-3",children:l?s.jsx(w,{className:"text-gray-600 dark:text-gray-50"}):s.jsx(x,{className:"text-gray-600 dark:text-gray-50"})})]}),a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-500",children:a.confirmPassword})]}),s.jsxs("div",{className:"mb-10 mt-auto",children:[a.updatePassword&&s.jsx("p",{className:"mb-2 text-center text-xs text-red-500",children:a.updatePassword}),s.jsx("button",{type:"submit",className:"hover:bg-primary-dark w-full rounded bg-cyan-to-blue py-4 text-white focus:bg-cyan-to-blue-active focus:outline-none",children:P?s.jsx(I,{label:"Updating Password"}):"Update Password"})]})]})]})};export{L as default};
