import{A as y,U as i,x as p,V as w,j as l}from"./index-Dqf6k5hL.js";const f=()=>{const{user:e}=y(),r=()=>i.get("/sanctum/csrf-cookie");return{addHistory:async d=>{const u={serialNumber:d.serialNumber,userId:e==null?void 0:e.id,status:d.status};console.log(u),await r(),i.post("/api/scan-history",u).then(o=>{console.log(o)}).catch(o=>{if(o.response.status!==422)throw o})}}},v=()=>{const e=()=>i.get("/sanctum/csrf-cookie"),r=p(),{addHistory:h}=f(),{data:d,error:u,mutate:o}=w("/api/cylinder",()=>i.get("/api/cylinder").then(t=>t.data).catch(t=>{if(t.response.status!==409)throw t}));return{cylinder:d,checkSerial:async({setAddDisable:t,setMessage:n,setModalOpen:s,...a})=>{await e(),i.get(`/api/cylinder/${a.eccId}`).then(c=>{console.log(c.data),c.data.data?+c.data.data.isDisposed==1?(t(!0),n("Cylinder is already disposed"),s(!0)):r("/scanned-result",{replace:!0,state:c.data}):(t(!1),n("The cylinder cover does not exist. Do you want to add it?"),s(!0)),o()}).catch(c=>{if(c.response.status!==422)throw c})},addCylinder:async t=>{console.log(t);const n={serialNumber:t,isDisposed:2,status:"Storage",location:"None"};await e(),i.post("/api/cylinder",n).then(s=>{const a={serialNumber:t,status:2};console.log(s),h(a),r("/scanned-result",{state:s.data}),o()}).catch(s=>{if(s.response.status!==422)throw s})},updateCylinder:async t=>{const n={serialNumber:t.serialNumber,isDisposed:t.isDisposed,status:t.status,cycle:t.cycle},s=t.id;await e(),i.put(`/api/cylinder/${s}`,n).then(a=>{console.log(a)}).catch(a=>{if(a.response.status!==409)throw a})}}},C=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#ffff",children:l.jsx("path",{d:"m382-480 294 294q15 15 14.5 35T675-116q-15 15-35 15t-35-15L297-423q-12-12-18-27t-6-30q0-15 6-30t18-27l308-308q15-15 35.5-14.5T676-844q15 15 15 35t-15 35L382-480Z"})}),N=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:l.jsx("path",{d:"M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z"})});export{C as A,N as C,v as u};
