import{A as q,L as n,w,M as p,j as r}from"./index-DVlqR8Gi.js";const y=()=>{const{user:e}=q(),d=()=>n.get("/sanctum/csrf-cookie");return{addHistory:async l=>{const h={serialNumber:l.serialNumber,userId:e==null?void 0:e.id,status:l.status};console.log(h),await d(),n.post("/api/scan-history",h).then(o=>{console.log(o)}).catch(o=>{if(o.response.status!==422)throw o})}}},m=()=>{const e=()=>n.get("/sanctum/csrf-cookie"),d=w(),{addHistory:u}=y(),{data:l,error:h,mutate:o}=p("/api/cylinder",()=>n.get("/api/cylinder").then(t=>t.data).catch(t=>{if(t.response.status!==409)throw t}));return{cylinder:l,checkSerial:async({setAddDisable:t,setMessage:i,setModalOpen:s,...a})=>{await e(),n.get(`/api/cylinder/${a.eccId}`).then(c=>{console.log(c.data),c.data.data?+c.data.data.isDisposed==1?(t(!0),i("Cylinder is already disposed"),s(!0)):d("/scanned-result",{replace:!0,state:c.data}):(t(!1),i("The cylinder cover does not exist. Do you want to add it?"),s(!0)),o()}).catch(c=>{if(c.response.status!==422)throw c})},addCylinder:async t=>{console.log(t);const i={serialNumber:t,isDisposed:2,status:"Storage",location:"None"};await e(),n.post("/api/cylinder",i).then(s=>{const a={serialNumber:t,status:2};console.log(s),u(a),d("/scanned-result",{state:s.data}),o()}).catch(s=>{if(s.response.status!==422)throw s})},updateCylinder:async t=>{const i={serialNumber:t.serialNumber,isDisposed:t.isDisposed,status:t.status,cycle:t.cycle},s=t.id;await e(),n.put(`/api/cylinder/${s}`,i).then(a=>{console.log(a)}).catch(a=>{if(a.response.status!==409)throw a})}}},v=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#ffff",children:r.jsx("path",{d:"m382-480 294 294q15 15 14.5 35T675-116q-15 15-35 15t-35-15L297-423q-12-12-18-27t-6-30q0-15 6-30t18-27l308-308q15-15 35.5-14.5T676-844q15 15 15 35t-15 35L382-480Z"})}),C=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"M504-480 348-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L404-268q-11 11-28 11t-28-11q-11-11-11-28t11-28l156-156Z"})}),j=()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"M200-480q0 93 52.5 166.5T391-213q18 6 29.5 22.5T432-154q0 29-24.5 46t-53.5 7q-124-41-199-145T80-480q0-130 75-234t199-145q29-10 53.5 7t24.5 46q0 20-11.5 36.5T391-747q-86 27-138.5 100.5T200-480Zm562 282q-32 33-72.5 57.5T605-101q-29 10-53.5-7T527-154q0-20 11.5-36.5T568-213q31-10 59.5-27.5T679-281q23-24 40-51.5t28-59.5q6-18 22.5-29.5T806-433q29 0 46 24.5t7 53.5q-15 44-39.5 84T762-198Zm0-564q33 33 57.5 73t39.5 84q10 29-7 53.5T806-527q-20 0-36.5-11.5T747-568q-11-32-28-59.5T679-679q-23-23-51.5-40.5T568-747q-18-6-29.5-22.5T527-806q0-29 24.5-46t53.5-7q44 15 84.5 39.5T762-762Z"})});export{v as A,C,j as D,m as u};
